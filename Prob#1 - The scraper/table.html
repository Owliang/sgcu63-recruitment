<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="description" content="This is every baan slogans">
    <meta name="author" content="Owliang">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baan's slogans</title>
    <style>
        table, th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <table id="myTable" style="width:50%">
        <thead>
            <tr>
                <th>ชื่อบ้าน</th><th>สโกแกน</th>
            </tr>
        </thead>
    </table>

    <p id="ow"></p>
    
    <script src="jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function(){
            /*var allURLName = ["abnormal", "agape", "buem", "dork", "duidui", "indiana", "judson"
                            , "khunnoo", "mheenoi", "pak-tak-agard", "panarak", "phee", "rhoy"
                            , "seiyw", "tem", "buchayun", "dung", "fyo", "kids", "koh", "laijai"
                            , "nhai", "preaw", "wang", "wanted", "work", "aaum", "jodeh-huesa"
                            , "koom", "por", "sod", "soeiteelheemouy", "indy", "jo+", "rang", "yim"];
            var allBaanName = ["บ้านแอ๊บ", "บ้านอากาเป้", "บ้านบึ้ม", "บ้านดอก", "บ้านดุ๊ยดุ่ย", "บ้านอินเดียน่า", "บ้านจัดสัน"
                            , "บ้านคุณหนู", "บ้านหมีน้อย", "บ้านพักตากอากาศ", "บ้านป้าน่ารัก", "บ้านผี", "บ้านหรอย"
                            , "บ้านเสี่ยว", "บ้านเต็ม", "บ้านบูชายัญ", "บ้านดัง", "บ้านเฟี้ยว", "บ้านคิดส์", "บ้านโคะ", "บ้านหลายใจ"
                            , "บ้านไหน", "บ้านเปรี้ยว", "บ้านหวัง", "บ้านว้อนท์", "บ้านเวิร์ค", "บ้านอะอึ๋ม", "บ้านโจ๊ะเด๊ะ ฮือซา"
                            , "บ้านคุ้ม", "บ้านพ่อ", "บ้านสด", "บ้านโซ้ยตี๋หลีหมวย", "บ้านอินดี้", "บ้านโจ๋", "บ้านแรง", "บ้านยิ้ม"];*/
            var nameEngThaiObj = { "abnormal" : "บ้านแอ๊บ"
                            , "agape" : "บ้านอากาเป้"
                            , "buem" : "บ้านบึ้ม"
                            , "dork" : "บ้านดอก"
                            , "duidui" : "บ้านดุ๊ยดุ่ย"
                            , "indiana" : "บ้านอินเดียน่า"
                            , "judson" : "บ้านจัดสัน"
                            , "khunnoo" : "บ้านคุณหนู"
                            , "mheenoi" : "บ้านหมีน้อย"
                            , "pak-tak-agard" : "บ้านพักตากอากาศ"
                            , "panarak" : "บ้านป้าน่ารัก"
                            , "phee" : "บ้านผี"
                            , "rhoy" : "บ้านหรอย"
                            , "seiyw" : "บ้านเสี่ยว"
                            , "tem" : "บ้านเต็ม"
                            , "buchayun" : "บ้านบูชายัญ"
                            , "dung" : "บ้านดัง"
                            , "fyo" : "บ้านเฟี้ยว"
                            , "kids" : "บ้านคิดส์"
                            , "koh" : "บ้านโคะ"
                            , "laijai" : "บ้านหลายใจ"
                            , "nhai" : "บ้านไหน"
                            , "preaw" : "บ้านเปรี้ยว"
                            , "wang" : "บ้านหวัง"
                            , "wanted" : "บ้านว้อนท์"
                            , "work" : "บ้านเวิร์ค"
                            , "aaum" : "บ้านอะอึ๋ม"
                            , "jodeh-huesa" : "บ้านโจ๊ะเด๊ะ ฮือซา"
                            , "koom" : "บ้านคุ้ม"
                            , "por" : "บ้านพ่อ"
                            , "sod" : "บ้านสด"
                            , "soeiteelheemouy" : "บ้านโซ้ยตี๋หลีหมวย"
                            , "indy" : "บ้านอินดี้"
                            , "jo+" : "บ้านโจ๋"
                            , "rang" : "บ้านแรง"
                            , "yim" : "บ้านยิ้ม" }

            for (name in nameEngThaiObj) {
                doGet(name, nameEngThaiObj[name]);
            }
            //doGet("yim", "บ้านยิ้ม");
        
            function doGet(engName, thaiName) {
                $.get("https://rubnongkaomai.com/baan/" + engName, function(response) {
                    var result = response.match(/og:description" content="([\s\S]*?)"/);
                    var tmp = result[0];
                    console.log(tmp);
                    tmp = tmp.slice(25,-1);
                    console.log(tmp);
                    //console.log(typeof result);
                    //var tmp = result[0];
                    /*var tmp = result.toString();
                    tmp = tmp.slice(25,-3);
                    if (tmp instanceof String) {
                        console.log("Y");
                    }*/
                    var table = document.getElementById("myTable");
                    var row = table.insertRow(-1);
                    var cell1 = row.insertCell(0);
                    cell1.innerHTML = thaiName;
                    var cell2 = row.insertCell(1);
                    cell2.innerHTML = tmp;
                });
            }

            /*
            var url = 'http://www.whateverorigin.org/get?url=' + encodeURIComponent("https://rubnongkaomai.com/baan") + "&callback=?";
            $.get(url, function(response) {
                console.log(response);
            });
            */
        });
    </script>
</body>
</html>
